<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Install &mdash; bioimageit_core developers documentation 0.1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial: wrap a tool" href="tutorial_wrap_a_tool.html" />
    <link rel="prev" title="Guide" href="guide.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> bioimageit_core developers documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide.html">Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#install-bioimageit-core">Install bioimageit_core</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-toolboxes">Install toolboxes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configure-bioimageit-core">Configure bioimageit_core</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#metadata">Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="#process">Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="#runner">Runner</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user">User</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_wrap_a_tool.html">Tutorial: wrap a tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_write_a_data_plugin.html">Tutorial: write a data plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_write_a_runner_plugin.html">Tutorial: write a runner plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">bioimageit_core</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">bioimageit_core developers documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Install</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/install.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="install">
<h1>Install<a class="headerlink" href="#install" title="Permalink to this headline"></a></h1>
<p>This section contains the instruction to install <code class="docutils literal notranslate"><span class="pre">bioimageit_core</span></code> and the toolboxes configuration files
to have a local working instance of <code class="docutils literal notranslate"><span class="pre">bioimageit_core</span></code> for development.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>These installation instructions are for developers who needs a custom BioImageIT install. If you plan to only
use BioImageIT we recommand using the installer from <a class="reference external" href="https://bioimageit.github.io/#/install">here</a></p>
</div>
<section id="install-bioimageit-core">
<h2>Install bioimageit_core<a class="headerlink" href="#install-bioimageit-core" title="Permalink to this headline"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">bioimageit_core</span></code> depends on <code class="docutils literal notranslate"><span class="pre">bioimageit_formats</span></code> the library that manage the data formats.
Thus, you first need to install <code class="docutils literal notranslate"><span class="pre">bioimageit_formats</span></code> and then <code class="docutils literal notranslate"><span class="pre">bioimageit_core</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mkdir bioimageit
python -m venv .env
<span class="nb">source</span> .env/bin/activate
git clone https://github.com/bioimageit/bioimageit_formats.git
pip install -e ./bioimageit_formats
git clone https://github.com/bioimageit/bioimageit_core.git
pip install -e ./bioimageit_core
python bioimageit_core/config.py <span class="s2">&quot;</span><span class="nv">$USER</span><span class="s2">&quot;</span> <span class="s2">&quot;CONDA&quot;</span>
</pre></div>
</div>
</section>
<section id="install-toolboxes">
<h2>Install toolboxes<a class="headerlink" href="#install-toolboxes" title="Permalink to this headline"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">bioimageit_core</span></code> uses a toolboxes index of remotely packaged tools. The toolboxes index is not installed by default. To install the
toolboxes run the following commands:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> bioimageit
git clone https://github.com/bioimageit/bioimageiit-toolboxes.git

<span class="c1"># create toolboxes database</span>
mkdir toolboxes
mkdir toolboxes/thumbs/
cp -r bioimageit-toolboxes/thumbs toolboxes/
cp bioimageit-toolboxes/toolboxes.json toolboxes/toolboxes.json
cp bioimageit-toolboxes/tools.json toolboxes/tools.json
cp bioimageit-toolboxes/formats.json ./formats.json
</pre></div>
</div>
</section>
<section id="configure-bioimageit-core">
<h2>Configure bioimageit_core<a class="headerlink" href="#configure-bioimageit-core" title="Permalink to this headline"></a></h2>
<p>If you need to manually configure <code class="docutils literal notranslate"><span class="pre">bioimageit_core</span></code> you need to edit the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file. You can copy &amp; paste
the <code class="docutils literal notranslate"><span class="pre">config.sample.json</span></code> available in the <code class="docutils literal notranslate"><span class="pre">bioimageit_core</span></code> root directory, or you can use the <code class="docutils literal notranslate"><span class="pre">config.json</span></code>
file generated by the install script. The configuration file looks like this:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;user&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;sprigent&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;workspace&quot;</span><span class="o">:</span> <span class="s2">&quot;/Users/sprigent/Documents/bioimageit/workspace/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;install_dir&quot;</span><span class="o">:</span> <span class="s2">&quot;/Users/sprigent/Documents/bioimageit&quot;</span><span class="p">,</span>
    <span class="s2">&quot;log_dir&quot;</span><span class="o">:</span> <span class="s2">&quot;/Users/sprigent/Documents/bioimageit/workspace/logs/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;metadata&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;service&quot;</span><span class="o">:</span> <span class="s2">&quot;LOCAL&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;formats&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;file&quot;</span><span class="o">:</span> <span class="s2">&quot;/Users/sprigent/Documents/bioimageit/formats.json&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;process&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;service&quot;</span><span class="o">:</span> <span class="s2">&quot;LOCAL&quot;</span><span class="p">,</span>
        <span class="s2">&quot;xml_dirs&quot;</span><span class="o">:</span> <span class="p">[</span>
            <span class="s2">&quot;/Users/sprigent/Documents/bioimageit/toolboxes/tools/&quot;</span>
        <span class="p">],</span>
        <span class="s2">&quot;categories&quot;</span><span class="o">:</span> <span class="s2">&quot;/Users/sprigent/Documents/bioimageit/toolboxes/toolboxes.json&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tools&quot;</span><span class="o">:</span> <span class="s2">&quot;/Users/sprigent/Documents/bioimageit/toolboxes/tools.json&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;fiji&quot;</span><span class="o">:</span> <span class="s2">&quot;/Users/sprigent/BioImageIT/Fiji.app/Contents/MacOS/ImageJ-macosx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;runner&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;service&quot;</span><span class="o">:</span> <span class="s2">&quot;CONDA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;conda_dir&quot;</span><span class="o">:</span> <span class="s2">&quot;/Users/sprigent/BioimageIT/miniconda3&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="metadata">
<h3>Metadata<a class="headerlink" href="#metadata" title="Permalink to this headline"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">metadata</span></code> section allows to configure how the metadata are handled. In the exemple above, we use the LOCAL service that
have no settings.</p>
<ul class="simple">
<li><p>LOCAL: Store the experiment data and metadata in the local file system</p></li>
</ul>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;runner&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;service&quot;</span><span class="o">:</span> <span class="s2">&quot;LOCAL&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>OMERO: Store the experiment data and metadata in an Omero database</p></li>
</ul>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;runner&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;service&quot;</span><span class="o">:</span> <span class="s2">&quot;OMERO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="o">:</span> <span class="s2">&quot;demo.openmicroscopy.org&quot;</span><span class="p">,</span>
    <span class="s2">&quot;port&quot;</span><span class="o">:</span> <span class="mf">4064</span><span class="p">,</span>
    <span class="s2">&quot;username&quot;</span><span class="o">:</span> <span class="s2">&quot;YourUserName&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span><span class="o">:</span> <span class="s2">&quot;YourPassword&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="process">
<h3>Process<a class="headerlink" href="#process" title="Permalink to this headline"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">process</span></code> section contains all the processing tools desciptions. In the example above, we use the LOCAL service meaning
that all the tools informations (XML wrappers) are copied locally. The variable <code class="docutils literal notranslate"><span class="pre">xml_dirs</span></code> is the path of the directories
containing the processing tools XML wrappers. The variable <code class="docutils literal notranslate"><span class="pre">categories</span></code> is the path to the JSON file containing the
toolboxes list. The variable <code class="docutils literal notranslate"><span class="pre">tools</span></code> is the path to the index file containing the list of all the availables tools.</p>
</section>
<section id="runner">
<h3>Runner<a class="headerlink" href="#runner" title="Permalink to this headline"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">runner</span></code> section contains the processing tools runner configuration.
The possible runners are:</p>
<ul class="simple">
<li><p>LOCAL: runs the tools installed locally on the workstation. In this case the tool must be added to the system <cite>PATH</cite>:</p></li>
</ul>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;runner&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;service&quot;</span><span class="o">:</span> <span class="s2">&quot;LOCAL&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>CONDA: runs the tools installed locally on the workstation with conda:</p></li>
</ul>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;runner&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;service&quot;</span><span class="o">:</span> <span class="s2">&quot;CONDA&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>SINGULARITY: runs the tools using <em>Singularity</em>. In this case you need to install <a class="reference external" href="https://sylabs.io/guides/3.5/user-guide/">Singularity</a>:</p></li>
</ul>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;runner&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;service&quot;</span><span class="o">:</span> <span class="s2">&quot;SINGULARITY&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>DOCKER: runs the tools using <em>Docker</em>. In this case you need to install <a class="reference external" href="https://docs.docker.com">Docker</a>. Docker needs to mount your data directory into the container. To do this, please specify the <cite>working_dir</cite> path in your config file:</p></li>
</ul>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;runner&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;service&quot;</span><span class="o">:</span> <span class="s2">&quot;DOCKER&quot;</span><span class="p">,</span>
    <span class="s2">&quot;working_dir&quot;</span><span class="o">:</span> <span class="s2">&quot;/home/full/path/to/workspace/&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>ALLGO: runs the tools using the <a class="reference external" href="https://allgo18.inria.fr/">AllGo</a> platform. In this case you do not need to install anything localy. Nevertheless, all the tools in BioImageIT tools index may not be available in AllGo. When using AllGo, you need to add your AllGo token (account authentication) in the config file or in a <cite>.allgo_token</cite> file in your home directory.</p></li>
</ul>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;runner&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;service&quot;</span><span class="o">:</span> <span class="s2">&quot;ALLGO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;token&quot;</span><span class="o">:</span> <span class="s2">&quot;PasteYourAllgoTokenHere&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="user">
<h3>User<a class="headerlink" href="#user" title="Permalink to this headline"></a></h3>
<p>Finally, the <code class="docutils literal notranslate"><span class="pre">user</span></code> section contains the user name that will be printed in the metadata every time a data is imported or
processed by this instance of <code class="docutils literal notranslate"><span class="pre">bioimageit_core</span></code>. This allows traceability.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="guide.html" class="btn btn-neutral float-left" title="Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorial_wrap_a_tool.html" class="btn btn-neutral float-right" title="Tutorial: wrap a tool" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Sylvain Prigent.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>